PART:NEEDS[TacLifeSupport]
{
// Common to all parts in the mod
// ------------------------------

		module = Part
		author = Daishi, DMagic, and Paul Kingtiger 
		manufacturer = New Horizons & Nox Industrial
		subcategory = 0

		
	
// Stuff that gets tweaked and balanced a lot
// ------------------------------------------

		title = Universal Storage: Water Tank
		category = Utility

		cost = 66
		mass = 0.08
		
		TechRequired = spaceExploration
		entryCost = 2800
		
		maxTemp = 1200
		
		fuelCrossFeed = False
		
		bulkheadProfiles = wedge
		crashTolerance = 5
		
		
	// Plugin control	
		MODULE
		{
			name = USFuelSwitch
			SwitchID = 0
			resourceNames = Water;Water;Water;Water
			resourceAmounts = 75;150;225;300
			initialResourceAmounts = 75;150;225;300
			tankCost = 0;66;132;198
			tankMass = 0;0.08;0.16;0.24
			basePartMass = 0.08
			basePartCost = 66
			hasGUI = False
			availableInEditor = False
			displayCurrentTankCost = True
		}	
	


	
// Stuff in here should have stable values
// ---------------------------------------

		description = Designed to fit on Universal Storage cores, this tank contains pure water, split it back into Oxygen and Hydrogen for fun, explosive times! Available in 4 standard sizes.
	
		rescaleFactor = 1
	
// This shouldn't be changing at all!
// ----------------------------------

		tags = Universal Storage Wedge Water
		
		attachRules = 1,0,1,1,0
		
		//KIS
		MODULE:NEEDS[KIS]
		{
			name = ModuleKISItem
			shortcutKeyAction = drop
			useName = use
			usableFromEva = false
			usableFromContainer = false
			usableFromPod = false
			usableFromEditor = false
			stackable = false
			volumeOverride = 0
			editorItemsCategory = true
			moveSndPath = KIS/Sounds/itemMove
			equipSlot = jetpack
			equipMode = part
			equipSlot = <null>
			equipSkill = <null>
			equipRemoveHelmet = false
			equipMeshName = jetpack_base01
			equipBoneName = bn_jetpack01
			equipPos = (0,-0.05,-0.3)
			equipDir = (0,270,0)
			carriable = true
			allowPartAttach = 1   
			allowStaticAttach = 0
		}

		
// Don't edit anything below this line.  Here be dragons!
// ------------------------------------------------------

		name = USWaterWedge
	

	// Drag
		angularDrag = 1
		dragModelType = default
		maximum_drag = 0.2
		minimum_drag = 0.2

		DRAG_CUBE
		{
			cube = A0, 0.3431,0.7578,0.6327, 0.3432,0.8309,0.4578, 0.2848,0.9538,0.4575, 0.2848,0.9559,0.4198, 0.242,0.6476,0.4997, 0.2427,0.6366,0.5973, 0.01869,0.188,0, 0.5435,0.4862,0.7954
			cube = A1, 0.6415,0.7773,0.6327, 0.6419,0.86,0.4578, 0.2848,0.9538,0.4562, 0.2848,0.9508,0.4478, 0.4496,0.6822,0.4997, 0.4496,0.6682,0.5973, 0.01869,-0.00749,0, 0.5435,0.8772,0.7954
			cube = A2, 0.9313,0.7888,0.6328, 0.9508,0.8737,0.347, 0.2852,0.9527,0.7188, 0.2852,0.9491,0.6724, 0.6406,0.6866,0.4997, 0.6408,0.6795,0.5934, 0.0186,-0.2159,0, 0.5437,1.278,0.7954
			cube = A3, 1.227,0.7986,0.6327, 1.269,0.8787,0.347, 0.2852,0.9526,0.8983, 0.2852,0.949,0.8762, 0.8301,0.6896,0.5075, 0.8301,0.6771,0.5934, 0.01869,-0.4156,0, 0.5435,1.678,0.7954
		}
			
	// Model call
		MODEL
		{
		model = UniversalStorage2/Parts/Lifesupport/WaterWedge
		scale = 1, 1, 1
		}


	// Plugin Control		
		MODULE
		{
			name = USSwitchControl
			SwitchID = 0
			ButtonName = Height
			ShowPreviousButton = False		
			ObjectNames = Single height;Double height;Triple height;Quad height
			FuelSwitchModeOne = True
		}
		
		
		MODULE
		{
			name = USMeshSwitch
			SwitchID = 0
			MeshTransforms = WaterWedgeSingle;WaterWedgeDouble;WaterWedgeTriple;WaterWedgeQuad
			AffectColliders = True
			DeleteUnused = True
		}
		
		
		MODULE
		{
			name = USDragSwitch
			SwitchID = 0
			DragCubes = A0;A1;A2;A3
		}
		
		MODULE
		{
			name = USCostSwitch
			SwitchID = 0
			DisplayCurrentModeCost = True
			BasePartCost = 500
			AddedCost = 0;500;1000;1500
		}
		
		MODULE
		{
			name = USMassSwitch
			SwitchID = 0
			DisplayCurrentModeMass = True
			BasePartMass = 0.1
			AddedMass = 0;0.1;0.2;0.3
		}
		

		
	// Wedge attach node definitions
		NODE
		{
			name = attach
			transform = attach
			size = 0
			method = HINGE_JOINT
		}
	
}

//TAC Life Support!
@PART[USWaterWedge]:NEEDS[TacLifeSupport]
{
	@description = Designed to fit on Universal Storage cores, this tank contains pure water. Good for drinking, growing crops or splitting into explosive gases! Available in 4 standard sizes.
	@title = Universal Storage: Water tank
	
	@cost = 150
	@mass = 0.220
		
	@TechRequired = spaceExploration
	@entryCost = 2800
	
	
	// Plugin control	
		MODULE
		{
			name = USFuelSwitch
			SwitchID = 0
			resourceNames = Water;Water;Water;Water
			resourceAmounts = 120;240;360;480
			initialResourceAmounts = 120;240;360;480
			tankCost = 0;150;300;450
			tankMass = 0;.220;.440;.660
			basePartMass = 0.220
			basePartCost = 150
			hasGUI = False
			availableInEditor = False
			displayCurrentTankCost = True
		}	
}