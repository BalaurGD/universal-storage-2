PART
{

//Basic

	author = Daishi, DMagic, and Paul Kingtiger 
	module = Part
	name = USCylindricalShroud125
	rescaleFactor = 1
	tags = Universal Storage Shroud Payload Mercury
			
	MODEL
	{
	model = UniversalStorage2/Parts/Shrouds/CylindricalShroud125
	scale = 1, 1, 1
	}

//AttachmentRules

	attachRules = 1,0,1,1,0

//Description	

	category = Payload
	description = A small, upwards expanding shroud, suitable for occluding inline Quadcore trusses (and their contents) from aerodynamic stress. Place on the bottom of the assembled core, and toggle the height to match. Features four low profile access doors for in-flight equipment access.
	manufacturer = New Horizons & Nox Industrial
	subcategory = 0
	title = Universal Storage Cylindrical Shroud (1.25m)

//Costs & RD

	cost = 100
	entryCost = 1800
	TechRequired = GenConstruction

//Physical

	bulkheadProfiles = size2
	crashTolerance = 15
	fuelCrossFeed = True
	mass = 0.019
	maxTemp = 1200
	thermalMassModifier = 4.0

//Drag. "A" cubes are core heights, "B" cubes are opened bays for said height. 

	angularDrag = 1
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2

	DRAG_CUBE
	{
		cube = A0, 0.7212,0.7309,1.347, 0.7212,0.7447,0.7341, 1.26,0.9468,0.5392, 1.26,0.9179,0.3179, 0.7212,0.764,0.9826, 0.7212,0.7596,0.9826, -1.013E-06,0.1556,0, 1.274,0.5947,1.274
		cube = B0, 0.7212,0.7309,1.347, 0.7212,0.7447,0.7341, 1.26,0.9468,0.5392, 1.26,0.9179,0.3179, 0.7212,0.764,0.9826, 0.7212,0.7596,0.9826, -1.013E-06,0.1556,0, 1.274,0.5947,1.274
		cube = A1, 1.241,0.7612,0.7341, 1.241,0.7612,0.7341, 1.26,0.9487,0.9482, 1.26,0.9174,0.3161, 1.241,0.762,0.7341, 1.241,0.761,0.7341, -7.153E-07,0.3597,0, 1.274,1.003,1.274
		cube = B1, 1.241,0.7612,0.7341, 1.241,0.7612,0.7341, 1.26,0.9487,0.9482, 1.26,0.9174,0.3161, 1.241,0.762,0.7341, 1.241,0.761,0.7341, -7.153E-07,0.3597,0, 1.274,1.003,1.274
		cube = A2, 1.76,0.7657,0.9653, 1.76,0.7656,0.9653, 1.26,0.9483,1.359, 1.26,0.9186,0.316, 1.76,0.7663,0.9653, 1.76,0.7656,0.9653, 5.96E-08,0.564,0, 1.274,1.412,1.274
		cube = B2, 1.76,0.7657,0.9653, 1.76,0.7656,0.9653, 1.26,0.9483,1.359, 1.26,0.9186,0.316, 1.76,0.7663,0.9653, 1.76,0.7656,0.9653, 5.96E-08,0.564,0, 1.274,1.412,1.274
		cube = A3, 2.278,0.7717,0.9595, 2.278,0.7719,0.9595, 1.26,0.9489,1.767, 1.26,0.9186,0.3169, 2.278,0.7722,0.9595, 2.278,0.7713,0.9595, 7.153E-07,0.7684,0, 1.274,1.82,1.274
		cube = B3, 2.278,0.7717,0.9595, 2.278,0.7719,0.9595, 1.26,0.9489,1.767, 1.26,0.9186,0.3169, 2.278,0.7722,0.9595, 2.278,0.7713,0.9595, 7.153E-07,0.7684,0, 1.274,1.82,1.274
		
	}

	
//Plugin Control. Do not change load order! Index0 must always be animategeneric, Index1 always the dragswitch module. ModuleCargoBay must always reference index0 to enable drag occulsion. 

	MODULE
	{
		name = USAnimateGeneric
		dragModuleIndex = 1
		primaryAnimationName = Take 001
		//secondaryAnimationName = Take 002
		primaryAvailableInEVA = true
		primaryAvailableInVessel = true
		primaryAvailableInEditor = true
		primaryActionAvailable = true
		secondaryAvailableInEVA = false
		secondaryAvailableInVessel = false
		secondaryAvailableInEditor = false
		secondaryActionAvailable = false
		combinedAvailableInEVA = false
		combinedAvailableInVessel = false
		combinedAvailableInEditor = false
		combinedActionAvailable = false
		
		//jettisonAvailable = true
		//jettisonIndices = 5;6;7;8
		
		SwitchID = 0
		AnimationControlState = 1;1;1;1
	}
	
	MODULE
	{
		name = USDragSwitch
		SwitchID = 0
		DragCubes = A0,B0;A1,B1;A2,B2;A3,B3
	}
		
	MODULE
	{
		name = ModuleCargoBay
		DeployModuleIndex = 0
		lookupCenter = -0.3,0.2,-0.07
		closedPosition = 0
		lookupRadius = 1.25
	}
	
	// MODULE UNUSED
	// {
	// 	name = ModuleJettison
	// 	jettisonName = polySurface291
	// 	bottomNodeName = OuterNode
	// 	allowShroudToggle = False
	//  hideJettisonMenu = True
	// 	isFairing = False
	// 	jettisonedObjectMass = 0.01
	// 	jettisonForce = 5
	// 	jettisonDirection = -1 0 1
	// 	stagingEnable = True
	// 	stagingToggleEnabledEditor = False
	// 	stagingToggleEnabledFlight = False
	// }
	
	MODULE
	{
		name = USSwitchControl
		SwitchID = 0
		ButtonName = Height and Function
		ShowPreviousButton = False		
		ObjectNames = Single height;Double height;Triple height;Quad height
	}
	
	MODULE
	{
		name = USMeshSwitch
		SwitchID = 0
		MeshTransforms = OneHigh;TwoHigh;ThreeHigh;FourHigh
		AffectColliders = True
	}
	
	MODULE
	{
		name = USNodeSwitch
		SwitchID = 0
		AttachNodes = HeightOne;HeightTwo;HeightThree;HeightFour
	}

	MODULE
	{
		name = USCostSwitch
		SwitchID = 0
		DisplayCurrentModeCost = True
		AddedCost = 0;500;1000;1500;1500
	}
	
	MODULE
	{
		name = USMassSwitch
		SwitchID = 0
		DisplayCurrentModeMass = True
		AddedMass = 0;0.25;0.5;0.75;0.75
	}
	
	MODULE
	{
		name = USSwitchControl
		SwitchID = 1
		ButtonName = Appearance
		ShowPreviousButton = False		
		ObjectNames = Apollo;Gemini;Porkjet;Saturn
	}
	
	MODULE
	{
		name = USMeshSwitch
		SwitchID = 1
		MeshTransforms = OneHighApollo,TwoHighApollo,ThreeHighApollo,FourHighApollo;OneHighGemini,TwoHighGemini,ThreeHighGemini,FourHighGemini;OneHighPorkjet,TwoHighPorkjet,ThreeHighPorkjet,FourHighPorkjet;OneHighSaturn,TwoHighSaturn,ThreeHighSaturn,FourHighSaturn		
		AffectColliders = True
	}
	
	
//Stack node definitions


	NODE
	{
	 name = OuterNode
	 transform = OuterNode
	 size = 1
	 method = FIXED_JOINT
	}

	NODE
	{
 	 name = InnerNode
	 transform = InnerNode
	 size = 1
	 method = FIXED_JOINT
	}
	
	
//Node Groups

	MODULE
	{
		name = ModuleStructuralNode
		rootObject = HeightOne
		attachNodeNames = InnerNode,OuterNode
	}
	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = HeightTwo	
		attachNodeNames = InnerNode,OuterNode
	}
	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = HeightThree
		attachNodeNames = InnerNode,OuterNode
	}
	
	MODULE
	{
		name = ModuleStructuralNode
		rootObject = HeightFour
		attachNodeNames = InnerNode,OuterNode
	}
	
}